---
import logo from '@assets/icon-512px.png';

import type { NavItem } from 'src/types';

export type Props = {
  logoPath?: string;
  navItems: NavItem[];
};

const { navItems, logoPath } = Astro.props as Props;
const { pathname } = Astro.canonicalURL;
const cursorType = logoPath ? 'pointer' : 'default';
---

<style define:vars={{ cursorType }}>
  .nav-container {
    display: flex;
    justify-content: space-between;
    padding: 0 2rem;
    height: 62px;
    align-items: center;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, .1);
  }

  .nav-logo {
    height: 42px;
    cursor: var(--cursorType);

    &>img {
      max-height: 100%;
      max-width: auto;
    }
  }

  .nav-items {
    margin-left: 0.5rem;
    overflow-x: auto;
    display: flex;

    &>a {
      padding: 0 1rem;
      font-weight: bold;
      cursor: pointer;
      font-size: 1.25rem;
      transition-duration: var(--dt);
      transition-property: color, opacity;

      &:hover {
        opacity: 0.8;
      }

      &:nth-child(4n+1) {
        color: var(--color1)
      }

      &:nth-child(4n+2) {
        color: var(--color2)
      }

      &:nth-child(4n+3) {
        color: var(--color3)
      }

      &:nth-child(4n+4) {
        color: var(--color4)
      }

    }

    &:last-child {
      padding-right: 0;
    }
  }
</style>

<div class="nav-container">
  <a class="nav-logo" href={logoPath}>
    <img src={logo} alt="App Logo">
  </a>
  <div class="nav-items">
    {navItems.map(item => (
    <a href={item.path}>{item.title}</a>
    )
    )}
  </div>
</div>
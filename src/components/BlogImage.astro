---
import sharp from 'sharp';
import { Picture } from '@astrojs/image/components';
import { nanoid } from 'nanoid';
import BaseImage from './BaseImage.astro';

export type Props = {
  src: string; // for now support remote images only
  alt: string;
  caption?: string;
};

const { src, alt, caption } = Astro.props as Props;
---

<figure class="blog-image">
  <BaseImage src={src} alt={caption ?? alt} />
  {caption && <figcaption class="caption">{caption}</figcaption>}
</figure>

<style lang="css">
  .blog-image {
    margin-top: 2em;
    margin-bottom: 2em;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .caption {
    margin: 0.5em auto;
    font-style: italic;
  }
</style>
